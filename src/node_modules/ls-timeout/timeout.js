class Timeout {
	constructor(hook, t) {
		this.id = setTimeout(() => {
			this.hook();
			this.id = null;
		}, t);

		this.hook = hook;
		this.t = t;
		this.canceled = false;
	}

	exec() {
		if (this.id != null) {
			this.cancel();
			this.hook();
		}
	}

	cancel() {
		if (this.id != null) {
			clearTimeout(this.id);
			this.id = null;
			this.canceled = true;
		}
	}

	is_active()   { return this.id != null && !this.canceled}
	is_execd()    { return this.id == null && !this.canceled }
	is_canceled() { return this.canceled; }
}
exports.Timeout = Timeout;
